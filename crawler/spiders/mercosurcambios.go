package spiders

import (
	"strings"

	"github.com/bitebait/curry/api/models"
	"github.com/bitebait/curry/config"

	"github.com/gocolly/colly"
)

func MercosurCambios(channel chan models.Store) {
	spider := &config.Spider{}
	spider.Name = "mercosurcambios"
	spider.Channel = channel
	spider.Selector = "div.tab_panel:nth-child(2) > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > table:nth-child(1) > tbody:nth-child(2) > tr:nth-child(3) > th:nth-child(5)"
	spider.URL = "https://site.mercosurcambios.com/"
	spider.GetValue = func(e *colly.HTMLElement) string {
		data := strings.TrimSpace(e.Text)
		return data
	}

	runSpider(spider)
}
